<html>
<title></title>
<body>
<center><h1>DonutsOnTheGrid</h1></center>
                                    		<table><tr><td colspan="2" class="statText"><h3>Problem Statement</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><p>Petya likes donuts. He tries to find them everywhere. For example if he is given a grid where each cell contains a '0' or '.' he will construct donuts from the cells.</p><p>To make the donuts:</p><ol><li>Petya first selects a rectangle of cells of width, w, and height, h, where both are at least 3.</li><li>Then he removes a rectangular hole of width w-2 and height h-2 centered in the larger rectangle.</li><li>For the remaining cells (a closed rectangular ring) to be a valid donut, all of the cells must contain '0' (because donuts are shaped like zeros). Cells in the hole can contain anything since they are not part of the donut.</li></ol><p>Here is an example with three overlapping donuts.</p><pre>...........00000000..0......0..0.000000..0.0...00..0.0...00..0.000000..0......0..00000000...........</pre><p>The grid in this problem will be pseudo-randomly generated using the following method:<br></br>You are given four ints: <b>H</b> (the grid height), <b>W</b> (the grid width), <b>seed</b> and <b>threshold</b>. Let x<sub>0</sub>=<b>seed</b> and for all i>=0 let x<sub>i+1</sub> = (x<sub>i</sub> * 25173 + 13849) modulo 65536. Process the cells of the matrix in row major order (i.e., first row left to right, second row left to right, etc.). Each time you process a cell, calculate the next x<sub>i</sub> (starting with x<sub>1</sub> for the upper left corner). If it is greater than or equal to <b>threshold</b>, the current cell will contain a '.', otherwise it will contain a '0'.</p><p>Return the number of distinct donuts in the figure. Two donuts are considered distinct if they either have different width or height, or if the top left hand corner is in a different location (i.e., overlapping donuts are counted).</p></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Definition</h3></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText">Class:</td><td class="statText">DonutsOnTheGrid</td></tr><tr><td class="statText">Method:</td><td class="statText">calc</td></tr><tr><td class="statText">Parameters:</td><td class="statText">int, int, int, int</td></tr><tr><td class="statText">Returns:</td><td class="statText">long</td></tr><tr><td class="statText">Method signature:</td><td class="statText">long calc(int H, int W, int seed, int threshold)</td></tr><tr><td colspan="2" class="statText">(be sure your method is public)</td></tr></table></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td></tr><tr><td class="statText"></td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Notes</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText">The random generation of the input is only for keeping the input size small. The author's solution does not depend on any properties of the generator, and would work fast enough for any input of allowed dimensions.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>H</b> will be between 1 and 350, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>W</b> will be between 1 and 350, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>seed</b> will be between 0 and 65535, inclusive.</td></tr><tr><td align="center" valign="top" class="statText">-</td><td class="statText"><b>threshold</b> will be between 0 and 65536, inclusive.</td></tr><tr><td colspan="2" class="statText">&#160;</td></tr><tr><td colspan="2" class="statText"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true" class="statText">0)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>222</pre></td></tr><tr><td class="statText"><pre>55555</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 4</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here is an example of the grid:<pre>0000000.0..000000.0000000</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">1)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr><tr><td class="statText"><pre>121</pre></td></tr><tr><td class="statText"><pre>58000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 3</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here is the grid and three donuts in it:<pre>00000.   XXX...   XXX...   ..XXX.0.0000   X.X...   X.X...   ..X.X.0.000.   X.X...   X.X...   ..XXX.000.00   XXX...   X.X...   ......000.00   ......   XXX...   ......</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">2)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>5</pre></td></tr><tr><td class="statText"><pre>6</pre></td></tr><tr><td class="statText"><pre>50000</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 1</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">The grid is:<pre>0.0.000000.00.00.000</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true" class="statText">3)</td><td class="statText"></td></tr><tr><td class="statText">&#160;&#160;&#160;&#160;</td><td class="statText"><table><tr><td class="statText"><table><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>4</pre></td></tr><tr><td class="statText"><pre>1</pre></td></tr><tr><td class="statText"><pre>65536</pre></td></tr></table></td></tr><tr><td class="statText"><pre>Returns: 9</pre></td></tr><tr><td class="statText"><table><tr><td colspan="2" class="statText">Here, the grid is completely filled by 0's. There are 9 possible placements of a donut:<pre>XXX.  XXX.  .XXX  .XXX  ....  ....  XXXX  ....  XXXXX.X.  X.X.  .X.X  .X.X  XXX.  .XXX  X..X  XXXX  X..XXXX.  X.X.  .XXX  .X.X  X.X.  .X.X  XXXX  X..X  X..X....  XXX.  ....  .XXX  XXX.  .XXX  ....  XXXX  XXXX</pre></td></tr></table></td></tr></table></td></tr></table>
</body>
</html>
